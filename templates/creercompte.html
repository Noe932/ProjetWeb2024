{% load static %}

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Créer compte - Équipe de Football</title>
    <link rel="stylesheet" href="{% static 'css/connexion.css' %}">
</head>
<body>
  <!-- Affichage des erreurs -->
    {% if errors %}
        <ul style="color: red; list-style: none; padding: 0;">
            {% for error in errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}
  <!-- Affichage du message de succès -->
    {% if success_message %}
        <p style="color: green;">{{ success_message }}</p>
    {% endif %}

  
  <div id="form-ui">
    <form action="" method="post" id="form">
        {% csrf_token %}
        
        <div id="form-body">
          <div id="welcome-lines">
            <div id="welcome-line-1">FootTactique</div>
            <div id="welcome-line-2">Créer votre compte</div>
          </div>
          
          <div id="input-area">
              <div class="form-inp">
    <input placeholder="Nom d'utilisateur" type="text" name="username" required>
</div>
              <div class="form-inp">
                <input id="prenom" name="prenom" placeholder="Prénom" type="text" value="{{ prenom }}">
              </div>
              <div class="form-inp">
                <input id="nom" name="nom" placeholder="Nom" type="text" value="{{ nom }}">
              </div>
              <div class="form-inp">
                <input id="age" name="age" placeholder="Âge" type="number" value="{{ age }}">
              </div>
              <div class="form-inp">
                <input id="password" name="password" placeholder="Mot de passe" type="password" value="{{ password }}">
              </div>
          </div>
          
          <div id="submit-button-cvr">
            <button id="submit-button" type="submit">Créer</button>
          </div>
          
          <div id="forgot-pass">
            <a href="{% url 'connexion' %}">Connexion</a>
          </div>
        </div>
    </form>
  </div>

  <script>
    function validateForm() {
      const nom = document.getElementById("nom").value.trim();
      const prenom = document.getElementById("prenom").value.trim();
      const age = document.getElementById("age").value.trim();
      const password = document.getElementById("password").value.trim();

      if (!nom || !prenom || !age || !password) {
          alert("Tous les champs sont obligatoires.");
          return false;
      }
      if (parseInt(age) < 0) {
          alert("L'âge doit être un nombre positif.");
          return false;
      }
      if (password.length < 6) {
          alert("Le mot de passe doit contenir au moins 6 caractères.");
          return false;
      }
      return true;
    }
  </script>

  <script src="{% static 'js/connexion.js' %}"></script>
</body>
</html>
